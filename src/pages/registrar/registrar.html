<!--
  Generated template for the RegistrarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>registrar</ion-title>
  </ion-navbar>
</ion-header>


<!-- preventDefault é para inibir o comportamento padrão formGroup é o nome da variavel e faz binding com formControlName§-->
<ion-content padding>
  <form [formGroup]="formGroup" (ngSubmit)="registrar();">

    <ion-item>
      <ion-label stacked> Nome* </ion-label>
      <ion-input formControlName="nome" type="text"> </ion-input>
      <!-- Para mostrar os erros de validação-->
    </ion-item>
    <p  class="invalido"  *ngIf="formGroup.controls.nome.errors && formGroup.controls['nome'].dirty" margin-left>
      Valor inválido
    </p>
    <ion-item>
      <ion-label stacked> Email* </ion-label>
      <ion-input formControlName="email" type="text"> </ion-input>
    </ion-item>
    <p  class="invalido"  *ngIf="formGroup.controls.email.errors && formGroup.controls['email'].dirty" margin-left>
      Valor inválido
    </p>

    <ion-item>
      <ion-list radio-group formControlName="tipo">

        <ion-list-header>
          Tipo cliente*
        </ion-list-header>
        <ion-item>
          <ion-radio checked="true" value="1"></ion-radio>
        </ion-item>
        <ion-item>
          <ion-radio value="2"></ion-radio>
        </ion-item>

      </ion-list>
    </ion-item>

    <p  class="invalido"  *ngIf="formGroup.controls.tipo.errors && formGroup.controls['tipo'].dirty" margin-left>
      Valor inválido
    </p>



    <ion-item>
      <ion-label stacked>cpf ou cnpj*</ion-label>
      <ion-input formControlName="cpfCnpj" type="text"> </ion-input>
    </ion-item>
 <p  class="invalido"  *ngIf="formGroup.controls.cpfCnpj.errors && formGroup.controls['cpfCnpj'].dirty" margin-left>
      Valor inválido - Mínimo 11 máximo 14
    </p>

    <ion-item>
      <ion-label stacked>senha*</ion-label>
      <ion-input formControlName="senha" type="password"> </ion-input>
    </ion-item>


    <ion-item>
      <ion-label stacked>logradouro*</ion-label>
      <ion-input formControlName="logradouro" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>numero*</ion-label>
      <ion-input formControlName="numero" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>complemento</ion-label>
      <ion-input formControlName="complemento" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>bairro*</ion-label>
      <ion-input formControlName="bairro" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>cep*</ion-label>
      <ion-input formControlName="cep" name="cep" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Estado*</ion-label>
      <ion-select formControlName="estadoId" (ionChange)="updateCidades()">
        <ion-option *ngFor="let estado of estados; first as f" [value]="estado.id" [selected]="f">{{estado.nome}}
        </ion-option>

        <!--Temporários-->
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label stacked>Cidade*</ion-label>
      <ion-select formControlName="cidadeId">
        <ion-option *ngFor="let cidade of cidades" [value]="cidade.id">{{cidade.nome}}</ion-option>
        <!--Temporários-->
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Telefone1*</ion-label>
      <ion-input formControlName="telefone1" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Telefone2</ion-label>
      <ion-input formControlName="telefone2" type="text"> </ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Telefone3</ion-label>
      <ion-input formControlName="telefone3" type="text"> </ion-input>
    </ion-item>
    <button ion-button type="submit" [disabled]="formGroup.invalid"> Registrar</button>
     <!-- DESABILITAR O BOTÃO SE INVÁLIDO-->
  </form>
</ion-content>